<!DOCTYPE html>
<html lang="pt-PT">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Editar Atributo</title>

	<script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
	{% include '$navbar.html' %}

	<div class="p-12 min-w-full">
		<h1 class="text-4xl mb-8">Editar Atributo</h1>

		<form class="flex flex-col gap-4  max-w-lg" method="post">
			{% csrf_token %}

			<div class="flex gap-8">
				<div id="value_cnt" class="flex flex-col gap-4">
					{% for value in values %}
					<div class="flex flex-col">
						<label for="Nome">Nome:</label>
						<div class="flex gap-4">
							<input class="p-2 border border-gray-500 rounded-full" type="text" name="value:{{ value.id }}" id="value:{{ value.id }}" placeholder="Valor" value="{{ value.value }}">

							<button class="border border-gray-500 px-5 rounded-full h-11" type="button" onclick="document.getElementById(`value:{{ value.id }}`).parentElement.remove();">
								Apagar
							</button>
						</div>
					</div>
					{% endfor %}
				</div>

				<button id="add_btn" type="button" class="border border-gray-500 px-5 rounded-full h-11 mt-6">
					Adicionar
				</button>
			</div>

			{% include '$submit.html' with text="Editar" %}
		</form>
	</div>
	<script>
		const addButton = document.getElementById('add_btn');
		const valueContainer = document.getElementById('value_cnt');

		addButton.addEventListener('click', () => {
			const newId = Math.random().toString().slice(2);

			const li = document.createElement('div');

			li.innerHTML = `
			<div class="flex flex-col">
				<label for="Nome">Nome:</label>
				<div class="flex">
				<input class="p-2 border border-gray-500 rounded-full" type="text" name="value:${newId}"
					id="value:${newId}" placeholder="Valor" value="">

				<button class="border border-gray-500 px-5 rounded-full h-11" type="button"
					onclick="document.getElementById(\`value:${newId}\`).parentElement.remove();">
					Apagar
				</button>
				</div>
			</div>
			`;

			valueContainer.appendChild(li);
		});
	</script>
</body>

</html>
